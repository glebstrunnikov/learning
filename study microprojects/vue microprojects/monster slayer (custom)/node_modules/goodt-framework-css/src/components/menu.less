@menu-z: 10;
@menu-min-width: @unit*15;
@menu-padding: @spacer2 0;
@menu-background: @color-white;
@menu-border-radius: @border-radius1;
@menu-sub-margin: -@spacer2 0 0 0;
@menu-item-hr-margin: @spacer1 @spacer4;
@menu-item-link-padding: @spacer3 @spacer4;
@menu-item-link-color: @color-grey-dark;
@menu-item-link-hover-color: @color-link;
@menu-item-icon-gap: @spacer3;
@menu-item-active-link-color: @color-link;
@menu-item-disabled-link-color: @color-disabled-dark;

@menu-small-padding: @spacer2 0;
@menu-small-item-hr-margin: @spacer1 @spacer4;
@menu-small-item-link-font-size: @font-size-smaller;
@menu-small-item-link-padding: @spacer2 @spacer4;

.hook-menu() {
}
.hook-menu-item() {
}
.hook-menu-item-hr() {
}
.hook-menu-item-link() {
}
.hook-menu-item-active() {
}
.hook-menu-item-hover() {
}
.hook-menu-item-disabled() {
}
.hook-menu-sub() {
}
.hook-menu-small() {
}

.menu {
    z-index: @menu-z;
    position: relative;
    display: inline-block;
    min-width: @menu-min-width;
    padding: @menu-padding;
    background: @menu-background;
    user-select: none;
    border-radius: @menu-border-radius;
    .shadow(2);
    > ul {
        position: relative;
        display: block;
        list-style: inside none;
        margin: 0;
        padding: 0;
        > li {
            position: relative;
            display: block;
            white-space: nowrap;
            > a {
                display: block;
                line-height: 1.5;
                padding: @menu-item-link-padding;
                color: @menu-item-link-color;
                text-decoration: none;
                cursor: pointer;
                &:active,
                &:hover {
                    text-decoration: none;
                }
                > .icon {
                    font-size: 1rem;
                    width: auto;
                    height: auto;
                    &:first-child {
                        margin-right: @menu-item-icon-gap;
                    }
                    &:last-child {
                        margin-left: @menu-item-icon-gap;
                    }
                }
                .hook-menu-item-link();
            }
            > hr {
                margin: @menu-item-hr-margin;
                .hook-menu-item-hr();
            }
            &:hover {
                > .menu {
                    pointer-events: all;
                    visibility: visible;
                    .opacity(1);
                }
                > a {
                    color: @menu-item-link-hover-color;
                }
                .hook-menu-item-hover();
            }
            &.active {
                > a {
                    color: @menu-item-active-link-color;
                }
                .hook-dropdown-item-hover();
            }
            &.disabled {
                pointer-events: none;
                > a {
                    color: @menu-item-disabled-link-color;
                }
                .hook-menu-item-disabled();
            }
            > .menu {
                position: absolute;
                left: 100%;
                top: 0;
                pointer-events: none;
                visibility: hidden;
                transition: opacity 0.2s ease;
                margin: @menu-sub-margin;
                .opacity(0);
                &.menu-left {
                    left: 0;
                    transform: translateX(-100%);
                }
                .hook-menu-sub();
            }
            .hook-menu-item();
        }
    }
    .hook-menu();
    &-small {
        padding: @menu-small-padding;
        > ul {
            > li {
                > a {
                    font-size: @menu-small-item-link-font-size;
                    padding: @menu-small-item-link-padding;
                    line-height: 1.5em;
                }
                > hr {
                    margin: @menu-small-item-hr-margin;
                }
            }
        }
        .hook-menu-small();
    }
}
